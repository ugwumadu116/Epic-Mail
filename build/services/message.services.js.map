{"version":3,"sources":["../../api/services/message.services.js"],"names":["messageService","getUserEmails","epicMail","userEmail","messageData","message","filter","mail","recieverId","getUnreadEmails","status","getSentEmails","senderId","getSingleEmail","id","find","postEmail","sentData","subject","lastMessageId","length","currentMessageId","newMessageId","date","Date","today","toLocaleString","day","month","year","newMesage","Messages","createdOn","parentMessageId","push","deleteSingleEmail","emailIndex","indexOf","delMail","splice"],"mappings":"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","sourcesContent":["import messageData from '../utils/dummyMessageData';\r\nimport Messages from '../models/message.model';\r\n\r\nconst messageService = {\r\n  getUserEmails(epicMail) {\r\n    const userEmail = messageData.message\r\n      .filter(mail => mail.recieverId === epicMail);\r\n    return userEmail;\r\n  },\r\n  getUnreadEmails(epicMail) {\r\n    const userEmail = messageData.message\r\n      .filter(mail => mail.recieverId === epicMail && mail.status === 'sent');\r\n    return userEmail;\r\n  },\r\n  getSentEmails(epicMail) {\r\n    const userEmail = messageData.message\r\n      .filter(mail => mail.senderId === epicMail);\r\n    return userEmail;\r\n  },\r\n  getSingleEmail(epicMail, id) {\r\n    const userEmail = messageData.message\r\n      .find(mail => mail.recieverId === epicMail && mail.id === id);\r\n    return userEmail;\r\n  },\r\n  postEmail(epicMail, sentData) {\r\n    const {\r\n      subject,\r\n      message,\r\n      recieverId,\r\n    } = sentData;\r\n    const lastMessageId = messageData.message.length - 1;\r\n    const currentMessageId = messageData.message[lastMessageId].id;\r\n    const newMessageId = currentMessageId + 1;\r\n\r\n    const date = new Date();\r\n    const today = date.toLocaleString('en-us', {\r\n      day: '2-digit',\r\n      month: 'long',\r\n      year: 'numeric',\r\n    });\r\n    const newMesage = new Messages();\r\n    newMesage.id = newMessageId;\r\n    newMesage.createdOn = today;\r\n    newMesage.subject = subject;\r\n    newMesage.message = message;\r\n    newMesage.senderId = epicMail;\r\n    newMesage.recieverId = recieverId;\r\n    newMesage.parentMessageId = lastMessageId + 1;\r\n    newMesage.status = 'sent';\r\n    messageData.message.push(newMesage);\r\n    return newMesage;\r\n  },\r\n\r\n  deleteSingleEmail(epicMail, id) {\r\n    const userEmail = messageData.message\r\n      .find(mail => mail.recieverId === epicMail && mail.id === id);\r\n    const emailIndex = messageData.message.indexOf(userEmail);\r\n    const delMail = messageData.message.splice(emailIndex, 1);\r\n    return delMail;\r\n  },\r\n};\r\n\r\nexport default messageService;\r\n"],"file":"message.services.js"}